{% extends 'base.html' %}

{% block head_title %}Play{% endblock %}

{% block content %}
<div class="flex my-4">
  <div class="w-full">
      <p>
          Here you can get a suggestion of a tune to play taken from your search results.
      </p>
  </div>
</div>

<div class="bg-indigo-100 border border-indigo-400 p-4 max-w-sm">
    <h5 class="text-lg font-semibold mb-3">Tune Search</h5>
    <form hx-post="{% url 'tune:tune_list' %}"
          hx-target="#table_count"
          hx-swap="outerHTML"
          hx-trigger="submit">
        {% csrf_token %}
        <div class="mb-3 p-0.5">
            <label for="search_term" class="sr-only">Search</label>
            <input id="search_term" 
                   type="text" 
                   name="search_term" 
                   value="{{ search_term_string }}" 
                   class="w-full px-3 py-2 bg-gray-50 border border-black focus:outline-none focus:ring focus:ring-indigo-400"
                   placeholder="Search tunes...">
        </div>
        <div class="mb-3">
            <label for="timespan" class="block mb-1 text-sm font-medium">Haven't played in:</label>
            <select id="timespan" 
                    name="timespan"
                    class="w-full px-3 py-2 bg-gray-50 border border-black focus:outline-none focus:ring focus:ring-indigo-400 focus:border-black">
                <option value="anytime">n/a</option>
                <option value="day">a day</option>
                <option value="week">a week</option>
                <option value="month">a month</option>
                <option value="two_months">2 months</option>
                <option value="three_months">3 months</option>
            </select>
        </div>
        <div>
            <input class="bg-blue-900 text-white px-4 py-2 hover:bg-blue-700 cursor-pointer" 
                   type="submit" 
                   value="Search">
        </div>
    </form>
</div>

<div class="flex items-start gap-0">
  <div class="w-1/4">
    <div class="bg-green-50 border-2 border-blue-500 rounded-none h-48 max-w-xs">
      <div class="p-4">
        <h5 class="text-lg font-semibold mb-3">Tune Search</h5>
        <div>
          <form method="post" hx-post="{% url 'tune:get_random_tune' %}" hx-target="#tunes" hx-trigger="submit" hx-indicator=".htmx-indicator">
            {% csrf_token %}
            <label for="searchField" class="sr-only"></label>
            <input type="text" name="search_term" class="ml-0 pl-0 border border-gray-300 rounded px-2 py-1 w-full" id="searchField">
        </div>
        <div class="w-full my-2">
          <label for="timespan" class="block text-sm font-medium text-gray-700 mb-1">Haven't played in:</label>
          <select id="timespan" name="timespan" class="w-full border border-gray-300 rounded px-2 py-1 bg-white">
            <option value="anytime">n/a</option>
            <option value="day">a day</option>
            <option value="week">a week</option>
            <option value="month">a month</option>
            <option value="two_months">2 months</option>
            <option value="three_months">3 months</option>
          </select>
        </div>
        <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded">Search</button>
        </form>
      </div>
    </div>
  </div>
  <div id="tunes" class="w-1/4">
  </div>
</div>
{% endblock %}